# Requirements Archive: v1.0 OpenClaw Optimization

**Archived:** 2026-02-02
**Status:** SHIPPED

This is the archived requirements specification for v1.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

## v1 Requirements

Requirements for initial optimization milestone. Each maps to roadmap phases.

### Setup

- [x] **SETUP-01**: Fork OpenClaw repo to personal GitHub (lucache95/openclaw)
- [x] **SETUP-02**: Update OpenClaw to latest version (2026.1.30)
- [x] **SETUP-03**: Set up upstream tracking with periodic sync checks

### Context Survival

- [x] **CTX-01**: Implement ACTIVE.md (WORKING.md) hot context pattern for state recovery
- [x] **CTX-02**: Add context monitoring with tiered thresholds (70/80/90% warnings)
- [x] **CTX-03**: Implement structured compaction preserving critical fields
- [x] **CTX-04**: Add pre-compaction memory flush (auto-save before compaction triggers)

### Local LLM

- [x] **LLM-01**: Install Ollama natively (not Docker) on Apple Silicon
- [x] **LLM-02**: Pull qwen2.5:3b model (1.9GB) for simple tasks
- [x] **LLM-03**: Set up nomic-embed-text for local vector embeddings
- [x] **LLM-04**: Configure vector memory storage for embeddings
  - _Note: OpenClaw already has sqlite-vec for vector storage. This requirement is satisfied by wiring Ollama embeddings (LLM-03) into the existing sqlite-vec infrastructure. ChromaDB is NOT needed - sqlite-vec provides equivalent functionality._
- [x] **LLM-05**: Implement task routing (simple tasks -> Ollama, complex -> Claude)

### Security

- [x] **SEC-01**: Move credentials from config.json to environment variables
- [x] **SEC-02**: Set up GPG encrypted vault for credential storage with owner tagging
- [x] **SEC-03**: Add automated security audit script (daily cron)

### Sub-agents

- [x] **SUB-01**: Create delegation brief templates for sub-agent handoff
- [x] **SUB-02**: Define structured result aggregation format from sub-agents

### Secondary Provider

- [x] **PVD-01**: Integrate MiniMax M2 as secondary provider for worker agents
- [x] **PVD-02**: Implement three-tier routing (Ollama free / MiniMax cheap / Claude quality)

### Documentation

- [x] **DOC-01**: Document multi-agent patterns from Bhanu's guide for future reference

## v2 Requirements (Deferred)

Deferred to future milestone. Tracked but not in current roadmap.

### Multi-Agent Fleet

- **FLEET-01**: Deploy multiple agent sessions with unique session keys
- **FLEET-02**: Build Mission Control infrastructure (Convex shared task DB)
- **FLEET-03**: Implement staggered heartbeat system for fleet
- **FLEET-04**: Set up inter-agent communication via shared database
- **FLEET-05**: Create agent roster with roles (from Bhanu's guide)

## Out of Scope

Explicitly excluded. Documented to prevent scope creep.

| Feature                           | Reason                                                  |
| --------------------------------- | ------------------------------------------------------- |
| Buggy Xcode app fix               | Separate project, not OpenClaw optimization             |
| New channel integrations          | Focus on optimization, not expansion                    |
| Full multi-agent fleet deployment | Bhanu's advice: "get 2-3 solid first"                   |
| Mission Control UI                | v2 milestone after single-agent is optimized            |
| ChromaDB                          | Not needed - sqlite-vec already provides vector storage |

## Traceability

| Requirement | Phase   | Status   | Notes                     |
| ----------- | ------- | -------- | ------------------------- |
| SETUP-01    | Phase 1 | Complete |                           |
| SETUP-02    | Phase 1 | Complete |                           |
| SETUP-03    | Phase 1 | Complete |                           |
| CTX-01      | Phase 2 | Complete |                           |
| CTX-02      | Phase 2 | Complete |                           |
| CTX-03      | Phase 2 | Complete |                           |
| CTX-04      | Phase 2 | Complete |                           |
| LLM-01      | Phase 3 | Complete |                           |
| LLM-02      | Phase 3 | Complete |                           |
| LLM-03      | Phase 3 | Complete |                           |
| LLM-04      | Phase 3 | Complete | sqlite-vec already exists |
| LLM-05      | Phase 3 | Complete |                           |
| SEC-01      | Phase 4 | Complete |                           |
| SEC-02      | Phase 4 | Complete |                           |
| SEC-03      | Phase 4 | Complete |                           |
| SUB-01      | Phase 5 | Complete |                           |
| SUB-02      | Phase 5 | Complete |                           |
| PVD-01      | Phase 6 | Complete |                           |
| PVD-02      | Phase 6 | Complete |                           |
| DOC-01      | Phase 7 | Complete |                           |

---

## Milestone Summary

**Shipped:** 20 of 20 v1 requirements

**Adjusted:**

- LLM-04 (vector memory): sqlite-vec already existed, Ollama embeddings integrated into existing infrastructure

**Dropped:**

- None

---

_Archived: 2026-02-02 as part of v1.0 milestone completion_
